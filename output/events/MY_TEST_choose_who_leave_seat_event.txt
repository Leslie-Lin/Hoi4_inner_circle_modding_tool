add_namespace = MY_TEST_choose_who_leave_seat_event
country_event = {
    id = MY_TEST_choose_who_leave_seat_event.1
    title = MY_TEST_choose_who_leave_seat_event_title
    desc = MY_TEST_choose_who_leave_seat_event_desc
    picture = "[GetAscendingAdvisorPortrait]"

    is_triggered_only = yes

    immediate = {
        hidden_effect = {
            set_country_flag = MY_TEST_circle_event_pending_flag
        }
    }
option = { #Replace Ascended Advisor 
    name = MY_TEST_choose_who_leave_seat_event.MY_TEST_TAN_ascended_advisor_1
    custom_effect_tooltip = MY_TEST_choose_who_leave_seat_event_option_tt.MY_TEST_TAN_ascended_advisor_1
    ai_chance = {
        base = 1
    }

    hidden_effect = {
        MY_TEST_make_MY_TEST_TAN_ascended_advisor_1_empty = yes
        set_variable = { MY_TEST_TAN_ascended_advisor_1 = MY_TEST_ascending_advisor }
                   if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 1 } check_variable = { MY_TEST_leaving_character_variable = 1 } }
                }
                MY_TEST_TAN_fritz_todt_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 2 } check_variable = { MY_TEST_leaving_character_variable = 2 } }
                }
                MY_TEST_TAN_albert_speer_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 5 } check_variable = { MY_TEST_leaving_character_variable = 5 } }
                }
                MY_TEST_TAN_joseph_goebbels_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 100 } check_variable = { MY_TEST_leaving_character_variable = 100 } }
                }
                MY_TEST_TAN_genghis_khan_change_trait_effect = yes
            }

        clear_variable = MY_TEST_ascending_advisor
        clear_variable = MY_TEST_leaving_character_variable
        clr_country_flag = MY_TEST_circle_event_pending_flag
    }
}

option = { #Replace Ascended Advisor 
    name = MY_TEST_choose_who_leave_seat_event.MY_TEST_TAN_ascended_advisor_2
    custom_effect_tooltip = MY_TEST_choose_who_leave_seat_event_option_tt.MY_TEST_TAN_ascended_advisor_2
    ai_chance = {
        base = 1
    }

    hidden_effect = {
        MY_TEST_make_MY_TEST_TAN_ascended_advisor_2_empty = yes
        set_variable = { MY_TEST_TAN_ascended_advisor_2 = MY_TEST_ascending_advisor }
                   if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 1 } check_variable = { MY_TEST_leaving_character_variable = 1 } }
                }
                MY_TEST_TAN_fritz_todt_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 2 } check_variable = { MY_TEST_leaving_character_variable = 2 } }
                }
                MY_TEST_TAN_albert_speer_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 5 } check_variable = { MY_TEST_leaving_character_variable = 5 } }
                }
                MY_TEST_TAN_joseph_goebbels_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 100 } check_variable = { MY_TEST_leaving_character_variable = 100 } }
                }
                MY_TEST_TAN_genghis_khan_change_trait_effect = yes
            }

        clear_variable = MY_TEST_ascending_advisor
        clear_variable = MY_TEST_leaving_character_variable
        clr_country_flag = MY_TEST_circle_event_pending_flag
    }
}

option = { #Replace Ascended Advisor 
    name = MY_TEST_choose_who_leave_seat_event.MY_TEST_TAN_ascended_advisor_3
    custom_effect_tooltip = MY_TEST_choose_who_leave_seat_event_option_tt.MY_TEST_TAN_ascended_advisor_3
    ai_chance = {
        base = 1
    }

    hidden_effect = {
        MY_TEST_make_MY_TEST_TAN_ascended_advisor_3_empty = yes
        set_variable = { MY_TEST_TAN_ascended_advisor_3 = MY_TEST_ascending_advisor }
                   if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 1 } check_variable = { MY_TEST_leaving_character_variable = 1 } }
                }
                MY_TEST_TAN_fritz_todt_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 2 } check_variable = { MY_TEST_leaving_character_variable = 2 } }
                }
                MY_TEST_TAN_albert_speer_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 5 } check_variable = { MY_TEST_leaving_character_variable = 5 } }
                }
                MY_TEST_TAN_joseph_goebbels_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 100 } check_variable = { MY_TEST_leaving_character_variable = 100 } }
                }
                MY_TEST_TAN_genghis_khan_change_trait_effect = yes
            }

        clear_variable = MY_TEST_ascending_advisor
        clear_variable = MY_TEST_leaving_character_variable
        clr_country_flag = MY_TEST_circle_event_pending_flag
    }
}

option = { #no_one_leave
    name = MY_TEST_choose_who_leave_seat_event.no_one_leave
    custom_effect_tooltip = MY_TEST_choose_who_leave_seat_event_option_no_one_leave_option_tt
    ai_chance = {
        base = 1
    }

    hidden_effect = {
                   if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 1 } check_variable = { MY_TEST_leaving_character_variable = 1 } }
                }
                MY_TEST_TAN_fritz_todt_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 2 } check_variable = { MY_TEST_leaving_character_variable = 2 } }
                }
                MY_TEST_TAN_albert_speer_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 5 } check_variable = { MY_TEST_leaving_character_variable = 5 } }
                }
                MY_TEST_TAN_joseph_goebbels_change_trait_effect = yes
            }
           else_if = {
                limit = {
                    OR={ check_variable = { MY_TEST_ascending_advisor = 100 } check_variable = { MY_TEST_leaving_character_variable = 100 } }
                }
                MY_TEST_TAN_genghis_khan_change_trait_effect = yes
            }

        clear_variable = MY_TEST_ascending_advisor
        clear_variable = MY_TEST_leaving_character_variable
        clr_country_flag = MY_TEST_circle_event_pending_flag
    }
}

}
